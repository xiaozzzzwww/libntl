# 设置库的基本信息
set(libntl "copy from https://libntl.org/ ,NTL is a high-performance, portable C++ library providing data structures and algorithms for manipulating signed, arbitrary length integers, and for vectors, matrices, and polynomials over the integers and over finite fields.")
set(VCPKG_LIBRARY_VERSION 1.0.0)
set(VCPKG_LIBRARY_CATEGORY Libraries)

# 设置库的依赖项（如果有）
# set(VCPKG_DEPENDENCIES dependency1 dependency2)

# 定义库的构建和安装过程

set(SOURCE_FILES
    src/*.cpp
    # 添加其他源文件
)

set(HEADER_FILES
    include/NTL/*.h
    # 添加其他头文件
)

include_directories(include)

# 添加库的目标
add_library(${libntl} SHARED
    ${SOURCE_FILES}
    ${HEADER_FILES}
)

# 设置头文件搜索路径
target_include_directories(${libntl} PUBLIC
    $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
    $<INSTALL_INTERFACE:include>
)

# 链接依赖项
target_link_libraries(${libntl} PRIVATE MY_DEPENDENCY)

set("VCPKG_LIBRARY_VERSION" 11)
set("VCPKG_LIBRARY_VERSION_MAJOR" 5.1)
# 设置库的版本号
set_target_properties(${libntl} PROPERTIES
    VERSION ${VCPKG_LIBRARY_VERSION}
    SOVERSION ${VCPKG_LIBRARY_VERSION_MAJOR}
)

# 安装库和头文件
install(TARGETS ${libntl}
    ARCHIVE DESTINATION lib
    LIBRARY DESTINATION lib
    RUNTIME DESTINATION bin
)

install(FILES ${HEADER_FILES}
    DESTINATION include/${libntl}
)

